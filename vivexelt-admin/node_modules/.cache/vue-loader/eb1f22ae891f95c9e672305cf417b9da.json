{"remainingRequest":"/home/dclz/vivexelt-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dclz/vivexelt-admin/src/views/Auth/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dclz/vivexelt-admin/src/views/Auth/Login.vue","mtime":1620438743774},{"path":"/home/dclz/vivexelt-admin/node_modules/cache-loader/dist/cjs.js","mtime":1620142631738},{"path":"/home/dclz/vivexelt-admin/node_modules/babel-loader/lib/index.js","mtime":1620325525308},{"path":"/home/dclz/vivexelt-admin/node_modules/cache-loader/dist/cjs.js","mtime":1620142631738},{"path":"/home/dclz/vivexelt-admin/node_modules/vue-loader/lib/index.js","mtime":1620325533304}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwppbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAnQC9jb3JlL3NlcnZpY2VzL2F1dGgnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGNoZWNrOiBmYWxzZSwKICAgICAgdGV4dDogJycsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKCdhdXRoJywgewogICAgICBzaWduSW46ICdzaWduSW4nLAogICAgfSksCiAgICBhc3luYyBvblN1Ym1pdCgpIHsKICAgICAgaWYgKHRoaXMudXNlcm5hbWUudHJpbSgpICYmIHRoaXMucGFzc3dvcmQudHJpbSgpKSB7CiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlCiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2lnbkluKHsgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkIH0pCiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KQoKICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuYWZ0ZXJTaWduZWRJbigpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY2hlY2sgPSB0cnVlCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNoZWNrKQogICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgdmVydGljYWxBbGlnbjogJ2JvdHRvbScsCiAgICAgICAgICAgIGhvcml6b250YWxBbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLAogICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB8fCAnU29tZXRoaW5nIHdlbnQgd3JvbmcnLAogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICB9CiAgICB9LAogICAgYXN5bmMgYWZ0ZXJTaWduZWRJbigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAndmlkZW9zJyB9KQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAoQXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCkpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAndmlkZW9zJyB9KQogICAgfQogIH0sCn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/Auth","sourcesContent":["<template>\n  <div>\n    <!-- Header -->\n    <div class=\"header bg-gradient-blue py-7 py-lg-8 pt-lg-9\"></div>\n    <!-- Page content -->\n    <b-container class=\"mt--8 pb-5\">\n      <b-row class=\"justify-content-center\">\n        <b-col lg=\"5\" md=\"7\">\n          <b-card no-body class=\"bg-secondary border-0 mb-0\">\n            <b-card-body class=\"px-lg-5 py-lg-5\">\n              <div class=\"text-center text-muted mb-4\">\n                <div class=\"text-muted text-center mt-2 mb-3\">\n                  <b-img\n                    src=\"img/assets/logo.png\"\n                    fluid\n                    alt=\"Responsive image\"\n                    style=\"margin-bottom: 50px\"\n                  ></b-img>\n                </div>\n              </div>\n              <validation-observer v-slot=\"{ handleSubmit }\" ref=\"formValidator\">\n                <b-form role=\"form\" @submit.prevent=\"handleSubmit(onSubmit)\">\n                  <div v-if=\"check\" style=\"color: red\">Wrong username or password</div>\n                  <base-input\n                    alternative\n                    class=\"mb-3\"\n                    name=\"Username\"\n                    :rules=\"{ required: true }\"\n                    prepend-icon=\"ni ni-email-83\"\n                    placeholder=\"Username\"\n                    v-model=\"username\"\n                  ></base-input>\n\n                  <base-input\n                    alternative\n                    class=\"mb-3\"\n                    name=\"Password\"\n                    :rules=\"{ required: true, min: 3 }\"\n                    prepend-icon=\"ni ni-lock-circle-open\"\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    v-model=\"password\"\n                  ></base-input>\n\n                  <div class=\"text-center\">\n                    <base-button\n                      type=\"primary\"\n                      :disabled=\"isLoading\"\n                      native-type=\"submit\"\n                      class=\"my-4\"\n                      >Sign in</base-button\n                    >\n                  </div>\n                </b-form>\n              </validation-observer>\n            </b-card-body>\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n<script>\nimport { mapActions } from 'vuex'\nimport AuthService from '@/core/services/auth'\nexport default {\n  data() {\n    return {\n      username: '',\n      password: '',\n      isLoading: false,\n      check: false,\n      text: '',\n    }\n  },\n  methods: {\n    ...mapActions('auth', {\n      signIn: 'signIn',\n    }),\n    async onSubmit() {\n      if (this.username.trim() && this.password.trim()) {\n        this.isLoading = true\n        let result = await this.signIn({ username: this.username, password: this.password })\n        console.log(result)\n\n        if (result.success) {\n          this.afterSignedIn()\n        } else {\n          this.check = true\n          console.log(this.check)\n          this.$notify({\n            verticalAlign: 'bottom',\n            horizontalAlign: 'center',\n            type: 'danger',\n            message: result.message || 'Something went wrong',\n          })\n        }\n        this.isLoading = false\n      }\n    },\n    async afterSignedIn() {\n      this.$router.push({ name: 'videos' })\n    },\n  },\n  mounted() {\n    if (AuthService.isAuthenticated()) {\n      this.$router.push({ name: 'videos' })\n    }\n  },\n}\n</script>\n"]}]}